

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

    <title>Microsoft Power BI</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge;" />

    <base href="/">

    <meta charset="utf-8">

    <meta name="description" content="">

    <meta name="format-detection" content="telephone=no" />

    <link rel="shortcut icon" href="images/PowerBI_Favicon.ico" />



    <script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['es6-promise.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/es6-promise.min.adf8c9fffd201e9cf42f.js"  nomodule  onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['es6-promise.min.js'].end = Date.now();</script>


<script>    

        var powerBIAccessToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiJodHRwczovL2FuYWx5c2lzLndpbmRvd3MubmV0L3Bvd2VyYmkvYXBpIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYTIzYjgwZmItMDNjZi00OGU3LWI3ZWEtNGE5MDk0Y2ZmMTZjLyIsImlhdCI6MTY1MzU3Njg2NiwibmJmIjoxNjUzNTc2ODY2LCJleHAiOjE2NTM1ODE4NjcsImFjY3QiOjAsImFjciI6IjEiLCJhaW8iOiJBVFFBeS84VEFBQUFRZ1p3SHlZSlRaVTlmQ0ZVdXBkdVZhdzdHdUovc0ZMeTNOUDNpTWduK3pDblF3aXEzT3NOZ1V0M0xtc2VXQkZwIiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6Ijg3MWMwMTBmLTVlNjEtNGZiMS04M2FjLTk4NjEwYTdlOTExMCIsImFwcGlkYWNyIjoiMiIsImZhbWlseV9uYW1lIjoiYm91anJhZGEiLCJnaXZlbl9uYW1lIjoieWFzc2luZSIsImlwYWRkciI6IjE2MC4xNzguMTguMjUzIiwibmFtZSI6Inlhc3NpbmUgYm91anJhZGEiLCJvaWQiOiJmNjM5ZWM0Zi1mN2VlLTQ2MGYtOTEzMy0yODY3ZTM1YjgzNjUiLCJwdWlkIjoiMTAwMzIwMDFGOEIxQzMwOCIsInJoIjoiMC5BWFlBLTRBN29zOEQ1MGkzNmtxUWxNX3hiQWtBQUFBQUFBQUF3QUFBQUFBQUFBQ1pBTzAuIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic2lnbmluX3N0YXRlIjpbImttc2kiXSwic3ViIjoiMHJzRFdXZ0ZBRlRPY1FTNFlDWUphczNRQm1iQklrOVF0b1ppVGMtM3hKbyIsInRpZCI6ImEyM2I4MGZiLTAzY2YtNDhlNy1iN2VhLTRhOTA5NGNmZjE2YyIsInVuaXF1ZV9uYW1lIjoieWFzc2luZWJvdWpyYWRhQGRhdGFzdG9yeTQ1My5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJ5YXNzaW5lYm91anJhZGFAZGF0YXN0b3J5NDUzLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6InYxdXZ3dWtjY0VpeVc0aGZvbG9uQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCIsImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdfQ.EH6xydUG1gzocO3Woi1H4kS9Rtw_PtokMXPvkW8ksoP3AIuKJz0gka3rS6cgRfoJaiPMVmFA5neM-QsBV_0p-wNeK8HsFVFtZ7TBFAlwTgsCaWL5dXUYc2ECV3Ke54TDWrpCPTQ5tl8SvIvbJH30v_TM-vuCV63NaJ489iEh1Ruld2vJsaArjY-OWl2bI9I-AAVS6bLEobqF4A1Bx-FVJcIq6nMD5T2Mi5iTbNjkBr96wNOpfxamzzXCn0TW_ILiX_BbciXTJ8jdABAXa5b0GEKT8vstwHH2iMhMJCNE_ggYs8CMqaOQhK375a_r3gLfDDqhQKkFbIWyIi6YybSJdw';
        var powerBIAccessTokenExpiry = '2022-05-26 16:17:46Z';
        var tenantId = 'a23b80fb-03cf-48e7-b7ea-4a9094cff16c';
        var clusterUri =  'https://wabi-us-central-b-primary-redirect.analysis.windows.net/';




        var powerbi = window.powerbi || {};

        powerbi.session = {
            
            userInfo: {
                name:  'yassineboujrada@datastory453.onmicrosoft.com',
                givenName: 'yassine',
                surname: 'boujrada',
                puid: '10032001F8B1C308',
                uoid: 'f639ec4f-f7ee-460f-9133-2867e35b8365',
                alternateEmail: '',
                hasAutoAssignedLicense: false
            }

        };

    

</script>    <script>

        // If load message arrives before initializing embed router, just save the params in postMessage handler below.

        var loadReportParameters;

        var createReportParameters;

        var showSignInParameters;

        var frontloadParameters;



        var enableAccessTokenCheckForSecureEmbed = true;



        window.markMessageAsHandled = function(request) {

            request.headers = request.headers || {};

            var handled = request.headers['handled'];

            if (handled) {

                // no changes

                return false;

            }



            request.headers["handled"] = "true";

            return true;

        };

    </script>

    <script>

        var viewLoadingStarted = Date.now();

        var bootstrapIsUsed = false;

        var bootstrapIsDone = false;





        function updateLoadTimestamp(messageData) {

            bootstrapIsUsed = messageData.headers && messageData.headers['bootstrapped'];

            if (bootstrapIsUsed && bootstrapIsDone) {

                viewLoadingStarted = Date.now();

            }

        }







        var isSaasOrPaasEmbed = true;

        var isSecurePublishToWeb = false;

        var uid = '' || 'defaultId';

        var sdkSessionId;

        var sdkVersion;

        var performanceOptimization = '' ;

        var registerQueryCallback = '' === "true";



        function autoAuthEnabled() {

            return "true";

        }



        //register for messages from parent window

        if (autoAuthEnabled()) {

            isSecurePublishToWeb = true;

            window.addEventListener('storage', storageEventHandler, false);



            window.addEventListener('DOMContentLoaded', function() {

                if (window.clientAuthEnabled && window.clientAuthSecureEmbedEnabled) {

                    // we cannot auth here as this might happen inside iframe so we have to wait until we auth in separate tab

                    // then we do signIn() to verify that token is valid and not expired

                    if(window.clientAuthProvider.isSignedIn() || !window.clientAuthProvider.isInIframe()) {

                       window.clientAuthProvider.signIn().then(showSignInOnContentLoaded);

                    } else {

                        showSignInOnContentLoaded();

                    }

                } else {

                    showSignInOnContentLoaded();

                }

            });

        } else {

            window.addEventListener('message', receiveMessage, false);

        }



        function showSignInOnContentLoaded() {

            // The showSignIn logic needs the scripts to be loaded, so we need to wait on DOMContentLoaded.

            if (autoAuthEnabled()) {

                isSaasOrPaasEmbed = false;



                window.showSignInParameters = {

                    accessToken: powerBIAccessToken,

                    reportId: "e9fde765-f95d-424a-b879-f2f0a89c171f"

                };



                if (window.showSignIn) {

                    window.showSignIn(showSignInParameters);

                }

            }

        }



        function storageEventHandler(evt) {

            switch(evt.key) {

                case 'accessTokenLastRefreshTime':

                    let ctIdFromQueryString = "a23b80fb-03cf-48e7-b7ea-4a9094cff16c";





                    let ctIdFromLocalStorage = localStorage.getItem('ctId');





                   const isUrlWithoutCtId = isNullOrUndefinedOrWhiteSpaceString(ctIdFromQueryString) 

                                               && isNullOrUndefinedOrWhiteSpaceString(ctIdFromLocalStorage);



                    // For embed urls with CtId

                    // The access token will be w.r.t the ctid which can be home tenant or guest tenant

                    const isUrlWithCtId = !isNullOrUndefinedOrWhiteSpaceString(ctIdFromQueryString) 

                                            && !isNullOrUndefinedOrWhiteSpaceString(ctIdFromLocalStorage) 

                                            && window.location.href.indexOf(ctIdFromLocalStorage) > -1;



                    if (isUrlWithCtId || isUrlWithoutCtId) {

                        location.reload();

                    }

            }

        }



        function isNullOrUndefinedOrWhiteSpaceString(str) {

            return !str || str.trim() === '';

        }



        var isMobile = '' == "true";



        function startFrontLoadReportEmbed(config) {

            // Disable front-load in auto auth mode.

            if (autoAuthEnabled()) {

                return;

            }



            if (performanceOptimization === "false") {

                return;

            }



            // Front load report embed: resolveCluster, modelsAndExploration and conceptualSchema requests will be sent in parallel

            // to scripts download to improve report embed performance.

            // The promises will replace HttpService calls.



            // Set groupId for front load. for folders use empty groupId

            if ('2' == '2') {

                config.groupId = "";

            } else {

                config.groupId = (config.groupId == null || config.groupId == "") ? 'd72eff1f-51d2-4e98-b093-fddce847145d' : config.groupId;

            }



            if (config.type === "report") {

                // Initiate promises

                modelsAndExplorationPromise = defer();

                conceptualSchemaPromise = defer();

            }



            trySetClusterUrlFromToken(config);

            if (embedUrlConfig.clusterUrl == null || embedUrlConfig.clusterUrl == "") {

                resolveClusterPromise = defer();

                resolveCluster(config, getModelsAndExplorationAndConceptualSchema);

            } else {

                getModelsAndExplorationAndConceptualSchema(config, embedUrlConfig.clusterUrl);

            }

        }



        //handle message from parent window

        function receiveMessage(event) {

            if (event.data) {

                try {

                    var messageData;

                    try {

                        messageData = JSON.parse(event.data);

                    } catch (e) {

                        messageData = event.data;

                    }



                    uid = messageData.headers && messageData.headers['uid'];

                    if (messageData.headers && messageData.headers['x-sdk-version'])

                        sdkVersion = messageData.headers['x-sdk-version'];

                    var sdkSessionId = messageData.headers && messageData.headers['sdkSessionId'];



                    // if the reportController is initalized and the message is in the new format,

                    // loadReport event will be handled by hostCommunicationHelper

                    if (messageData.action === 'loadReport') {

                        // Legacy embed PostMessage handling



                        window.loadReportParameters = {

                            accessToken: messageData.accessToken,

                            id: messageData.reportId,

                            uid: uid,

                            sdkSessionId: undefined,

                            phasedRender: false,

                            additionalODataFilter: messageData.oDataFilter,

                        };



                        if (window.loadReport) {

                            window.loadReport(window.loadReportParameters);

                        }

                    } else if (messageData.method === 'POST' && (messageData.url === '/report/load' || messageData.url === '/report/prepare')) {

                        if (!window.markMessageAsHandled(messageData)) {

                            // Message is already handled.

                            return;

                        }



                        updateLoadTimestamp(messageData);



                        window.loadReportParameters = messageData.body;

                        window.loadReportParameters.uid = uid;

                        window.loadReportParameters.sdkSessionId = sdkSessionId;

                        if (messageData.url === '/report/prepare')

                        {

                            window.loadReportParameters.phasedRender = true;

                        }



                        if (window.loadReport) {

                            window.loadReport(window.loadReportParameters);

                        }

                    } else if (messageData.method === 'POST' && messageData.url === '/report/create') {

                        if (!window.markMessageAsHandled(messageData)) {

                            // Message is already handled.

                            return;

                        }



                        updateLoadTimestamp(messageData);



                        window.createReportParameters = messageData.body;

                        window.createReportParameters.uid = uid;

                        window.createReportParameters.sdkSessionId = sdkSessionId;



                        if (window.createReport) {

                            window.createReport(window.createReportParameters);

                        }

                    }



                    if (messageData.method === 'POST' && messageData.url === '/frontload/config') {

                        // Frontload config is sent after Powerbi-Javascript receive the ready post message

                        frontloadParameters = messageData.body;

                        startFrontLoadReportEmbed(frontloadParameters);

                    }

                }

                catch (e) {

                    var embedReportLoadMessage = {

                        event: 'error',

                        error: 'Invalid message data:'+ e.message,

                    };

                    window.parent.postMessage(JSON.stringify(embedReportLoadMessage), '*');

                    return;

                }

            }

        }

        var baseUrl = window.location.protocol + '//' + window.location.host;

        var powerbi = window.powerbi || {};

        powerbi.telemetrySamplingRules = 'embed';

        powerbi.build = '13.0.18310.53';

        powerbi.buildDetails = '13.0.18310.53';

        powerbi.clientVersion = '2205.3.11455-train';

        powerbi.cvUrl = 'https://pbivisuals.powerbi.com';

        powerbi.visualCDNBlobContainerUrl = 'prod';

        powerbi.common = {};

        powerbi.common.cultureInfo = 'en-US';

        powerbi.common.unmappedCultureInfo = '';

        powerbi.common.formattingLocale = 'en-US';

        var useCDN = 'True';

        var cdnUrl = 'https://content.powerapps.com/resource/powerbiwfe';

        var previousTenantId = '';

        var telemetrySessionId = '4bba199a-671a-4615-b4e6-dbaa98306b4a';

        var sessionSource = "Embed";

        var allowTelemetry = true;

        var appInsightsV2InstrKey = '53ab656d-9b03-4065-a001-159874f8ed12';

        var appInsightsV2EndpointUrl = '';

        var initialDashboardContainer = undefined;

        var appLoadError = undefined;

        var isAdmin = "" === "true" ? true : false;



    </script>







    <link rel="stylesheet" href="https://content.powerapps.com/resource/powerbiwfe/styles/reportembed.bundle.min.847fa613e1329cb035ec.css" onerror=cdnFallback(event) />


        <script>





        var isPrivateLinkHeaderPresent = false;

        var embedUrlConfig = {"clusterUrl":null,"embedFeatures":{"usageMetricsVNext":true}};

        

        // In PL scenarios, override the cluster with the API Url present in WFE Manifests (Typically api.powerbi.com)

        embedUrlConfig.clusterUrl = isPrivateLinkHeaderPresent ? 'https://api.powerbi.com'

         : ''



        ClusterExtractionFromTokenErrors = {

            SinglePartToken: 'SinglePartToken',

            FailedToDecodeTokenPart: 'FailedToDecodeTokenPart',

            FailedToParseConfig: 'FailedToParseConfig',

            NoClusterUrlInConfig: 'NoClusterUrlInConfig',

        };



        // TODO: Task 231825: Use typescript in cshtml code

        var tryExtractClusterFromEmbedToken = function(embedToken, isFrontLoad) {



            // Skip if the cluster has already been extracted from the token.

            // The return value indicates that the cluster extraction happened (success or failure).

            if (window.clusterExtractionResult) {

                return window.clusterExtractionResult;

            }



            // Embed tokens are generated with additional data separated by a '.'.

            // The additional data is for client usage and should not be sent in the request header. 

            var clusterExtractionResult = {

                clusterUrl: undefined,

                isFrontLoad: isFrontLoad,

            };



            // Split token in 2 parts

            var embedTokenParts = embedToken.split('.');



            // Check if 2nd part exists

            if (embedTokenParts.length < 2) {

                clusterExtractionResult.error = ClusterExtractionFromTokenErrors.SinglePartToken;

                return clusterExtractionResult;

            }



            // Try to decode base64

            try {

                var base64Decoded = atob(embedTokenParts[1]);

            } catch(ex) {

                clusterExtractionResult.error = ClusterExtractionFromTokenErrors.FailedToDecodeTokenPart;

                return clusterExtractionResult;

            }



            // Parse decoded string

            var embedTokenAdditionalConfig;

            try {

                embedTokenAdditionalConfig = JSON.parse(base64Decoded);

            } catch(ex) {

                clusterExtractionResult.error = ClusterExtractionFromTokenErrors.FailedToParseConfig;

                return clusterExtractionResult;

            }



            // Extract token

            var clusterUrlInToken = embedTokenAdditionalConfig.clusterUrl;

            if (clusterUrlInToken == null) {

                clusterExtractionResult.error = ClusterExtractionFromTokenErrors.NoClusterUrlInConfig;

                return clusterExtractionResult;

            };



            clusterExtractionResult.clusterUrl = clusterUrlInToken;

            return clusterExtractionResult;

        };

    </script>





        <script>

        var resolveClusterPromise;



        var clusterResolutionFrontLoadStartTime = null;

        var clusterResolutionFrontLoadEndTime = null;



        const tokenPrefix = ['Bearer ', 'EmbedToken '];

        const unknownErrorCode = 500;

        const resolveClusterPrefix = "resolveCluster";

        const myWorkspaceFolderId = 'me';



        function resolveCluster(config, nextFrontloadCall) {

            try {

                clusterResolutionFrontLoadStartTime = Date.now();

                var activityId = telemetrySessionId;

                var requestId = '9d97b19f-2e3f-4247-886c-888149378fe5';



                var xhr = new XMLHttpRequest();

                xhr.onreadystatechange = function() {

                    try {

                        var status = xhr.status;

                        if (xhr.readyState == XMLHttpRequest.DONE) {

                            clusterResolutionFrontLoadEndTime = Date.now();

                            if (isSuccess(status)) {

                                var response = xhrBuildResponse(xhr, activityId, requestId);

                                if (response.data.clusterUrl || response.data.backendUrl) {

                                    resolvedClusterUri = response.data.clusterUrl || response.data.backendUrl;

                                    resolveClusterPromise.resolve(response);

                                    nextFrontloadCall(config, resolvedClusterUri);

                                } else {

                                    resolveClusterPromise.reject(buildExceptionResponse(activityId, requestId, {message: "clusterUrl and backendUrl are empty"}, resolveClusterPrefix));

                                }

                            } else {

                                try {

                                    resolveClusterPromise.reject(xhrBuildResponse(xhr, activityId, requestId, true /*isError*/));

                                }

                                catch (e) {

                                    console.error(e);

                                    // Cannot parse an error out of the response

                                    resolveClusterPromise.reject(buildExceptionResponse(activityId, requestId, e, resolveClusterPrefix));

                                }

                            }

                        }

                    }

                    catch (e) {

                        console.error(e);

                        resolveClusterPromise.reject(buildExceptionResponse(activityId, requestId, e, resolveClusterPrefix));

                    }

                }



                var url;

                if (isSaaSEmbedWithAADToken(config)) {

                    url = clusterUri + "/powerbi/globalservice/v201606/clusterdetails";

                }

                else {

                    url = clusterUri + "/metadata/cluster";

                }



                xhr.open("GET", url);

                setGETRequestHeaders(xhr, telemetrySessionId, requestId, config);

                xhr.send();

            }

            catch (e) {

                console.error(e);

                resolveClusterPromise.reject(buildExceptionResponse(activityId, requestId, e, resolveClusterPrefix));

            }

        }



        function trySetClusterUrlFromToken(config) {

            if (config.tokenType == 1 /*EmbedToken*/ && !isPrivateLinkHeaderPresent)

            {

                window.clusterExtractionResult = tryExtractClusterFromEmbedToken(config.accessToken, true /* isFrontLoad */);

                

                // Override embed url config's clusterUrl with clusterUrl extracted from token since it might be more accurate

                embedUrlConfig.clusterUrl = ( window.clusterExtractionResult && window.clusterExtractionResult.clusterUrl ) || embedUrlConfig.clusterUrl;

            }

        }



        function setGETRequestHeaders(xhr, activityId, requestId, config) {

            xhr.setRequestHeader('Accept', 'application/json');

            xhr.setRequestHeader('ActivityId', activityId);

            xhr.setRequestHeader('RequestId', requestId);



            // Default token type is Aad (0)

            var tokenType = config.tokenType || 0;

            xhr.setRequestHeader('Authorization', tokenPrefix[tokenType] + config.accessToken);

            if (isSaaSEmbedWithAADToken(config))

                xhr.setRequestHeader('X-PowerBI-HostEnv', 'Embedding for your organization');

            else

                xhr.setRequestHeader('X-PowerBI-HostEnv', 'Embedding for your customers');

            if (config.tenantVerification)

                xhr.setRequestHeader('X-PowerBI-Tenant-Verification', config.tenantVerification);

        }



        function setGETRequestHeadersWithGroupId(xhr, activityId, requestId, config) {

            setGETRequestHeaders(xhr, activityId, requestId, config);



            if (config.groupId && config.groupId !== myWorkspaceFolderId)

                xhr.setRequestHeader('X-PowerBI-User-GroupId', config.groupId);

        }



        function setPOSTRequestHeaders(xhr, activityId, requestId, config) {

            setGETRequestHeaders(xhr, activityId, requestId, config);

            xhr.setRequestHeader('Content-Type', 'application/json');

            if (config.groupId && config.groupId !== myWorkspaceFolderId)

                xhr.setRequestHeader('X-PowerBI-User-GroupId', config.groupId);

        }



        function isSaaSEmbedWithAADToken(config) {

            // Default token type is Aad (0)

            const tokenType = config.tokenType || 0;

            return (window.isSaasOrPaasEmbed === true) && (tokenType === 0);

        }



        function defer() {

            var res, rej;



            var promise = new Promise(function (resolve, reject) {

                res = resolve;

                rej = reject;

            });



            promise.resolve = function (result) {

                res(result);

            };



            promise.reject = function (error) {

                rej(error);

            };



            return promise;

        }



        function xhrBuildResponse(xhr, activityId, requestId, isError) {

            var response = {

                activityId: activityId,

                requestId: requestId,

                status: xhr.status,

            };



            xhrResponse = xhr.response && JSON.parse(xhr.response);

            if (!isError)

                response["data"] = xhrResponse;

            else

                response["error"] = xhrResponse && xhrResponse.error;



            return response;

        }



        function buildExceptionResponse(activityId, requestId, exception, prefix, status) {

            return {

                activityId: activityId,

                requestId: requestId,

                status: status || unknownErrorCode,

                error: {

                    message: prefix + " Exception: " + exception.message,

                    code: "FrontLoadException",

                },

            }

        }



        function isSuccess(status) {

            return status >= 200 && status < 300;

        }

    </script>



        <script>

        var modelsAndExplorationPromise;

        var conceptualSchemaPromise;

        var conceptualSchemaRequestId;

        var conceptualSchemaResponse;



        var modelsAndExplorationFrontLoadStartTime = null;

        var modelsAndExplorationFrontLoadEndTime = null;

        var conceptualSchemaFrontLoadStartTime = null;

        var conceptualSchemaFrontLoadEndTime = null;



        const modelsAndExplorationPrefix = "modelsAndExploration";

        const conceptualSchemaPrefix = "conceptualSchema";



        function getModelsAndExploration(config, resolvedClusterUri) {

            if (!modelsAndExplorationPromise || !config.id || config.id.indexOf("-") === -1) {

                // This happens in cases where getModelsAndExploration is not needed, like QnA embed.

                return;

            }



            try {

                modelsAndExplorationFrontLoadStartTime = Date.now();

                var activityId = telemetrySessionId;

                var requestId = '7f4356c3-b4ea-48c0-a52c-7e02a4bfac0e';

                url = resolvedClusterUri + "/explore/reports/" + config.id + `/modelsAndExploration?preferReadOnlySession=true${window.isMobile ? '&mobileStateEnabled=true': ''}`;

                if (config.datasetBinding && config.datasetBinding.datasetId) {

                    url += "&datasetObjectId=" + config.datasetBinding.datasetId;

                }



                var xhr = new XMLHttpRequest();

                xhr.onreadystatechange = function() {

                    try {

                        var status = xhr.status;

                        if (xhr.readyState == XMLHttpRequest.DONE) {

                            modelsAndExplorationFrontLoadEndTime = Date.now();

                            if (isSuccess(status)) {

                                var response = xhrBuildResponse(xhr, activityId, requestId);

                                modelsAndExplorationPromise.resolve(response);

                                modelsAndExplorationRequestId = requestId;

                            } else {

                                if (modelsAndExplorationPromise) {

                                    try {

                                        modelsAndExplorationPromise.reject(xhrBuildResponse(xhr, activityId, requestId, true /*isError*/));

                                    }

                                    catch (e) {

                                        console.error(e);

                                        // Cannot parse an error out of the response

                                        modelsAndExplorationPromise.reject(buildExceptionResponse(activityId, requestId, e, modelsAndExplorationPrefix, status));

                                    }

                                }

                            }

                        }

                    }

                    catch (e) {

                        console.error(e);

                        if (modelsAndExplorationPromise) {

                            modelsAndExplorationPromise.reject(buildExceptionResponse(activityId, requestId, e, modelsAndExplorationPrefix));

                        }

                    }

                }



                xhr.open("GET", url);

                setGETRequestHeadersWithGroupId(xhr, telemetrySessionId, requestId, config);

                xhr.send();

            }

            catch (e) {

                console.error(e)

                if (modelsAndExplorationPromise) {

                    modelsAndExplorationPromise.reject(buildExceptionResponse(activityId, requestId, e, modelsAndExplorationPrefix));

                }

            }

        }



        function getConceptualSchema(config, resolvedClusterUri, modelsAndExploration) {

            if (!conceptualSchemaPromise) {

                // This happens in cases where getConceptualSchema is not needed, like QnA embed.

                return;

            }



            try {

                conceptualSchemaFrontLoadStartTime = Date.now();



                var activityId = telemetrySessionId;

                var requestId = '30f9f1e3-c281-4c16-84cb-f1bb4665d028';



                var xhr = new XMLHttpRequest();

                xhr.onreadystatechange = function() {

                    try {

                        conceptualSchemaFrontLoadEndTime = Date.now();

                        var status = xhr.status;

                        if (xhr.readyState == XMLHttpRequest.DONE) {

                            if (isSuccess(status)) {

                                var data = JSON.parse(xhr.responseText);

                                conceptualSchemaDuration = conceptualSchemaFrontLoadEndTime - conceptualSchemaFrontLoadStartTime;

                                conceptualSchemaRequestId = requestId;



                                var schemas;

                                if (data.schemas) {

                                    // Get schemas by model Id return an array of schemas in schemas property.

                                    schemas = data.schemas;

                                } else {

                                    // Get schema by report Id returns only one schema - which is the response body.

                                    // Add schema to an array in order to run successfully in the same flow as get schemas by model Id.

                                    schemas = [data];

                                }



                                if (conceptualSchemaPromise){

                                    conceptualSchemaPromise.resolve({

                                    schemas: schemas,

                                    requestId: requestId

                                    });

                                }

                            } else if (conceptualSchemaPromise){

                                try {

                                    var error = JSON.parse(xhr.response);

                                        conceptualSchemaPromise.reject({

                                            requestId: requestId,

                                            error: error,

                                            status: xhr.status,

                                            schemas: undefined,

                                        });

                                }

                                catch (e) {

                                    console.error(e);

                                    // Cannot parse an error out of the response

                                    conceptualSchemaPromise.reject(buildExceptionResponse(activityId, requestId, e, conceptualSchemaPrefix, status));

                                }

                            }

                        }

                    }

                    catch (e) {

                        console.error(e);

                        if (conceptualSchemaPromise && conceptualSchemaPromise.reject) {

                            conceptualSchemaPromise.reject(buildExceptionResponse(activityId, requestId, e, conceptualSchemaPrefix));

                        }

                    }

                }



                const userPreferredLocale = powerbi.common.unmappedCultureInfo;



                // Request should be:

                // GET /explore/reports/<report guid>/conceptualschema.

                if (config.datasetBinding && config.datasetBinding.datasetId) {

                    url = resolvedClusterUri + "/explore/conceptualschema";

                    var data = JSON.stringify({

                        ModelObjectIds: [config.datasetBinding.datasetId],

                        userPreferredLocale: userPreferredLocale

                    });



                    xhr.open("POST", url);

                    setPOSTRequestHeaders(xhr, telemetrySessionId, requestId, config);

                    xhr.send(data);

                } else if (config.id && config.id.indexOf("-") !== -1){

                    url = resolvedClusterUri + "/explore/reports/" + config.id + "/conceptualschema?userPreferredLocale=" + userPreferredLocale;

                    xhr.open("GET", url);

                    setGETRequestHeadersWithGroupId(xhr, telemetrySessionId, requestId, config);

                    xhr.send();

                }

            } catch (e) {

                console.error(e);

                if (conceptualSchemaPromise) {

                    conceptualSchemaPromise.reject(buildExceptionResponse(activityId, requestId, e, conceptualSchemaPrefix));

                }

            }

        }



        function getModelsAndExplorationAndConceptualSchema(config, resolvedClusterUri) {

            getModelsAndExploration(config, resolvedClusterUri);

            getConceptualSchema(config, resolvedClusterUri, null /* modelsAndExplorationResponse */);

        }

    </script>



    <script>

        certifiedTelemetryEmbed = true;

        usageMetricsVNext = embedUrlConfig && embedUrlConfig.embedFeatures && embedUrlConfig.embedFeatures.usageMetricsVNext;

        var powerBISpinnerImprovements = true;

    </script>

</head>

<body>

    <div id="pbiLoadingPlaceholder" class="displayNone">

        <div id="pbi-svg-loading" class="wfe-loading"><div class="pbi-svg-item"><img  src="https://content.powerapps.com/resource/powerbiwfe/images/spinner-PBI-logo.6434e0fca135a582c323.svg" width="61" height="81"/><div class="shine"></div></div></div>

    </div>



    <div id='pbiAppPlaceHolder' style="height: 100%">

        <!-- check for login as a part of loading report embed controller -->

        <report-embed></report-embed>

    </div>



    <script>

        // 'pbiLoadingPlaceholder' acts as a wrapper and is displayed only when scripts are enabled.

        // This makes sure loading screen is displayed only if scripts are enabled.

        // If scripts are disabled the 'noscript' tag is displayed with the error message

        var pbiLoadingPlaceholderElement = document.querySelector('#pbiLoadingPlaceholder');

        pbiLoadingPlaceholderElement.classList.remove('displayNone');



        if (uid !== 'defaultId') {

            // Ready message is sent to the Powerbi-Javascript, in order to start report embed front load

            window.parent.postMessage({method: "POST", url: '/ready/' + uid}, '*');

        }

    </script>



    <script> function cdnFallback(event) {var date = new Date(); var failedRequestUrl = 'unknown'; var maxAgeInSeconds = 8 * 60 * 60;if (event && event.currentTarget && event.currentTarget.src) {failedRequestUrl = event.currentTarget.src;}document.cookie = 'disablecdn=cdnRequestFailureTimestamp:' + date.toUTCString() + '-cdnRequestFailureUrl:' + failedRequestUrl + '; max-age=' + maxAgeInSeconds + '; secure';window.location.reload(true); }</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['jquery.globalize/globalize.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/jquery.globalize/globalize.min.8e8ec43af69cf3d5d7aa.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['jquery.globalize/globalize.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['jquery.globalize/globalize.culture.en-US.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/jquery.globalize/globalize.culture.en-US.07ca294f77f622a072a5.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['jquery.globalize/globalize.culture.en-US.js'].end = Date.now();</script>
    <script type="text/javascript"> powerbi.common.localizedStrings = ''; </script>

<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['powerBIResources.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/powerBIResources.min.63f247435cf330360be6.js"  onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['powerBIResources.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['hash-manifest.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="13.0.18310.53/scripts/hash-manifest.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['hash-manifest.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportembed.externals.bundle.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportembed.externals.bundle.min.9f023bfd5c31e2b5f452.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportembed.externals.bundle.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/powerbiportal.dependencies.bundle.min.5af56d0d22e953913c98.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportembed.common.bundle.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportembed.common.bundle.min.7d6518d09c58e9405e58.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportembed.common.bundle.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportEmbed.exploreui.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportEmbed.exploreui.min.ec342f109b22a000dbdd.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportEmbed.exploreui.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['powerbiportal.explore.bundle.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/powerbiportal.explore.bundle.min.baf0d3820a7a56a46111.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['powerbiportal.explore.bundle.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportEmbed.vendors.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportEmbed.vendors.min.6cc73d7ed8076844134a.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportEmbed.vendors.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportembed.bundle.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportembed.bundle.min.f74d1167af942a45d1b1.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportembed.bundle.min.js'].end = Date.now();</script>
<script type="text/javascript">this.parseTimeMarkers = this.parseTimeMarkers || {}; this.parseTimeMarkers['reportEmbed.min.js'] = { nominalStart: Date.now(), start: Date.now() }; </script>
<script type="text/javascript" src="https://content.powerapps.com/resource/powerbiwfe/scripts/reportEmbed.min.08b2cd1e2ac035d9005f.js" defer   onerror=cdnFallback(event) ></script>
<script type="text/javascript">this.parseTimeMarkers['reportEmbed.min.js'].end = Date.now();</script>




    <noscript>

        <div class="noScriptContainer">

            <section class="noScriptErrorContainer">

                <span class="noScriptErrorText">The sandbox is too restrictive and preventing correct functioning.</span>

            </section>

        </div>

    </noscript>



    <script>

        bootstrapIsDone = true;

    </script>

</body>

</html>

